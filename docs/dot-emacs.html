<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Emacs Configuration File</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="title" content="Emacs Configuration File"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2013-03-04T22:09-0800"/>
<meta name="author" content="Howard Abrams"/>
<meta name="description" content="A literate programming version of my Emacs Initialization script, loaded by the .emacs file."/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style><link rel='stylesheet' href='http://www.howardism.org/styles/org-export-html-style.css' type='text/css'/>
<script src='http://use.edgefonts.net/source-sans-pro.js'></script>
<script src='http://use.edgefonts.net/source-code-pro.js'></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012  Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">Emacs Configuration File</h1>

<p>This is my <code>.emacs</code> file, written using <a href="http://www.orgmode.org">org-mode</a>, so that I can
organize it and take notes on all the complexity.
</p>
<ul>
<li>The <code>tab</code> key opens/close a particular section
</li>
<li>Shift + <code>tab</code> cycles between the outline and full text
</li>
<li>Render it with:  <code>C-c C-v t</code>
</li>
<li>Creates a file:  <code>~/.emacs-ext.el</code>
</li>
<li>Load it during from the <code>.emacs</code> file, like:
</li>
</ul>





<pre class="example">;; Load our Literate Programming version of our Dot Emacs
;; file, from file: ~/Dropbox/emacs.d/dot-emacs.org
(load-file "~/.emacs-ext.el")
</pre>



<div id="outline-container-1" class="outline-2">
<h2 id="sec-1">Introduction</h2>
<div class="outline-text-2" id="text-1">


<p>
  This file is really a <i>script</i> that generates my Emacs configuration
  file. For all of this to work, you need version 24 (or at least,
  version 23, like <a href="http://aquamacs.org/">Aquamacs</a>). Pick <a href="https://github.com/railwaycat/emacs-mac-port">Yamamoto Mitsuharu's version</a>!
</p>


  <p>
    You can download the <a href="dot-emacs.org">original org-mode
    file</a> or view the <a href="dot-emacs.el">tangled end results</a>.
  </p>

<p>
  We begin this initialization script with a warning not to edit the
  generated file:
</p>



<pre class="src src-elisp"><span style="color: #969896; font-style: italic;">;;; </span><span style="color: #969896; font-style: italic;">------------------------------------------</span>
<span style="color: #969896; font-style: italic;">;;; </span><span style="color: #969896; font-style: italic;">Do not edit the generated file, as it has</span>
<span style="color: #969896; font-style: italic;">;;; </span><span style="color: #969896; font-style: italic;">been generated, as a tangled file, by the</span>
<span style="color: #969896; font-style: italic;">;;; </span><span style="color: #969896; font-style: italic;">fandifluous org-mode.</span>
<span style="color: #969896; font-style: italic;">;;;</span>
<span style="color: #969896; font-style: italic;">;;; </span><span style="color: #969896; font-style: italic;">Source: ~/Dropbox/emacs.d/dotemacs.org</span>
<span style="color: #969896; font-style: italic;">;;; </span><span style="color: #969896; font-style: italic;">------------------------------------------</span>
</pre>



</div>

<div id="outline-container-1-1" class="outline-3">
<h3 id="sec-1-1">Installing Dependencies</h3>
<div class="outline-text-3" id="text-1-1">


<p>
   Emacs already comes bundled to edit most files, like Java and Ruby.
   However, some of the new stuff that I use isn't bundled, yet.
</p>

</div>

<div id="outline-container-1-1-1" class="outline-4">
<h4 id="sec-1-1-1">Version 23</h4>
<div class="outline-text-4" id="text-1-1-1">


<p>
   To begin installing these new packages in version 23, you need <a href="http://tromey.com/elpa/install.html">ELPA</a>
   (Emacs Package Manager).  Simply hit <code>C-c C-c</code> in the buffer below
   to get that installed (if that fails, then you need to go to the
   last paren and hit <code>C-x C-e</code>).
</p>



<pre class="src src-emacs-lisp">(<span style="color: #b9ca4a;">let</span> ((buffer (url-retrieve-synchronously
               <span style="color: #70c0b1;">"http://tromey.com/elpa/package-install.el"</span>)))
  (<span style="color: #b9ca4a;">save-excursion</span>
    (message <span style="color: #70c0b1;">"Completed download of %s"</span> buffer)
    (set-buffer buffer)
    (goto-char (point-min))
    (re-search-forward <span style="color: #70c0b1;">"^$"</span> nil 'move)
    (eval-region (point) (point-max))
    (kill-buffer (current-buffer))))
</pre>


<p>
   This code writes some magic to the <code>~/.emacs</code> file, so make sure
   you get rid of it at some point.
</p>
<p>
   What I really like is the extra packages contained in the more
   up-to-date <a href="http://marmalade-repo.org/">Marmalade repository</a>, but this seems to like a
   <i>different</i> version of <code>package.el</code>, so execute this bit of magic
   to re-download the correct version.
</p>



<pre class="src src-sh">curl -o ~/.emacs.d/elpa/package.el <span style="color: #70c0b1;">"http://repo.or.cz/w/emacs.git/blob_plain/1a0a666f941c99882093d7bd08ced15033bc3f0c:/lisp/emacs-lisp/package.el"</span>
<span style="color: #969896; font-style: italic;"># </span><span style="color: #969896; font-style: italic;">wget "http://repo.or.cz/w/emacs.git/blob_plain/1a0a666f941c99882093d7bd08ced15033bc3f0c:/lisp/emacs-lisp/package.el" -O ~/.emacs.d/elpa/package.el</span>
</pre>


<p>
   Run the following (with a <code>C-x C-e</code> on the last paren) to install
   and start up the package manager:
</p>



<pre class="src src-emacs-lisp">(<span style="color: #b9ca4a;">let</span> ()
  (load <span style="color: #70c0b1;">"~/.emacs.d/elpa/package.el"</span>)
  (<span style="color: #b9ca4a;">require</span> '<span style="color: #e78c45;">package</span>)
  (add-to-list 'package-archives
               '(<span style="color: #70c0b1;">"marmalade"</span> . <span style="color: #70c0b1;">"http://marmalade-repo.org/packages/"</span>) t)
  (package-initialize)
  (package-refresh-contents)
  (package-list-packages))
</pre>


</div>

</div>

<div id="outline-container-1-1-2" class="outline-4">
<h4 id="sec-1-1-2">Install Needed Packages</h4>
<div class="outline-text-4" id="text-1-1-2">


<p>
    Here is the list that should be installed to begin.
    Install them all with a <code>C-c C-c</code> inside this block:
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">let</span> ((my-packages (list

 'ac-nrepl
 'auto-complete
 'clojure-mode
 'clojurescript-mode
 'coffee-mode
 'color-theme
 'color-theme-sanityinc-tomorrow
 'elein
 'flymake
 'flymake-jshint
 'flyspell
 'git-commit-mode
 'gitconfig-mode
 'gitignore-mode
 'graphviz-dot-mode
 'handlebars-mode
 'htmlize
 'js-comint
 'js2-mode
 'json-mode
 'mac-key-mode
 'magit
 'magit-simple-keys
 'markdown-mode
 'mustache-mode
 'nlinum
 'nrepl
 'org
 'org-mime
 'org-presie
 'paredit
 'plantuml-mode
 'redo+
 'scala-mode
 'smex
 'yasnippet
 'yasnippet-bundle

  )))

  (<span style="color: #b9ca4a;">unless</span> package-archive-contents
    (package-refresh-contents))
  (<span style="color: #b9ca4a;">dolist</span> (package my-packages)
     (<span style="color: #b9ca4a;">unless</span> (package-installed-p package)
      (package-install package))))

</pre>


<p>
   Anything that you don't install above, may cause problems in the
   code below.  So, either install it, or comment out its code section
   (by adding a <code>:tangle no</code> at the end of the first line of code).
</p>
<p>
   The following sections discuss installation of libraries that are
   not available via ELPA.
</p>
</div>

</div>

<div id="outline-container-1-1-3" class="outline-4">
<h4 id="sec-1-1-3">PlantUML</h4>
<div class="outline-text-4" id="text-1-1-3">


<p>
    The <a href="http://plantuml.sourceforge.net">PlantUML project</a> allows you to draw UML diagrams with textual descriptions.
    A sweet feature for literate programmers. Download <a href="http://plantuml.sourceforge.net/download.html">the Jar file</a> and put it in
    your <code>bin</code> directory:
</p>



<pre class="example">curl -o ~/bin/plantuml.jar http://sourceforge.net/projects/plantuml/files/plantuml.jar/download
</pre>


<p>
    We then need to reference this Jar file:
</p>



<pre class="src src-elisp">(setq org-plantuml-jar-path (concat (getenv <span style="color: #70c0b1;">"HOME"</span>) <span style="color: #70c0b1;">"/bin/plantuml.jar"</span>))
</pre>


</div>

</div>

<div id="outline-container-1-1-4" class="outline-4">
<h4 id="sec-1-1-4">Org-Mode Installation</h4>
<div class="outline-text-4" id="text-1-1-4">


<p>
    The <a href="http://orgmode.org">org-mode</a> program is so critical, that I want a version &gt; 7.9.
    Download a version and un-pack it in <code>~/.emacs.d</code> and create a
    symlink to it called: <code>~/.emacs.d/org</code>
</p>
<p>
    From this point, we expect this it to be in this spot.
</p>
</div>

</div>

<div id="outline-container-1-1-5" class="outline-4">
<h4 id="sec-1-1-5">Ensime Installation</h4>
<div class="outline-text-4" id="text-1-1-5">


<p>
    <a href="https://github.com/aemoncannon/ensime">Ensime</a> is an enhanced mode for Scala. Complete instructions are
    on the github page, but it amounts to 
</p>
<ul>
<li><a href="https://github.com/aemoncannon/ensime/downloads">Download a distribution</a>
</li>
<li>Positioning: <code>cd ~/.emacs</code>
</li>
<li>Extracting: <code>tar xvf ~/Downloads/ensime_2.9.2-0.9.8.1.tar</code> (or equivalent)
</li>
<li>Symlinking: <code>ln -s ensime_2.9.2-0.9.8.1 ensime</code>
</li>
</ul>


<p>
    That should do 'er.
</p>
</div>

</div>

<div id="outline-container-1-1-6" class="outline-4">
<h4 id="sec-1-1-6">JavaScript Lint</h4>
<div class="outline-text-4" id="text-1-1-6">


<p>
    Assuming that you have <a href="http://nodejs.org">node.js</a> installed, you should install
    <a href="http://www.jshint.com">jshint</a> as a global command:
</p>



<pre class="example">sudo npm -g install jshint
</pre>


<p>
    Now you can customize the <a href="#sec-4-3">JavaScript</a> section.
</p>
<ul>
<li id="sec-1-1-6-1">Checking out the Ensime Source Code<br/>

<p>
     You could check out the ensime source code and compiling a
     version. As long as we have a <code>~/.emacs.d/ensime/elisp</code> that we
     can load, we are golden&hellip;
</p>



<pre class="example">git clone https://github.com/aemoncannon/ensime.git
cd ~/.emacs.d/ensime
ln -s dist_2.9.2/elisp .
</pre>


</li>
</ul>
</div>

</div>

<div id="outline-container-1-1-7" class="outline-4">
<h4 id="sec-1-1-7">ISpell</h4>
<div class="outline-text-4" id="text-1-1-7">


<p>
    The spelling feature in Emacs using <code>ispell</code>, so this should be
    installed with something like Homebrew:
</p>



<pre class="src src-sh">brew install ispell
</pre>


</div>

</div>

<div id="outline-container-1-1-8" class="outline-4">
<h4 id="sec-1-1-8">Support for GMAIL</h4>
<div class="outline-text-4" id="text-1-1-8">


<p>
    While reading email in Emacs is generally "fine", I like to use
    it because I can create direct links between my notes and the
    mail messages I get.
</p>
<p>
    To send email through Gmail, you'll need the TLS package
    installed. Using <a href="http://mxcl.github.com/homebrew/">Homebrew</a> is simple enough:
</p>



<pre class="src src-sh">brew install gnutls
</pre>


</div>
</div>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2">General Settings</h2>
<div class="outline-text-2" id="text-2">



</div>

<div id="outline-container-2-1" class="outline-3">
<h3 id="sec-2-1">Extra Packages</h3>
<div class="outline-text-3" id="text-2-1">


<p>
   Extra packages not available via the package manager go in my
   personal stash at: <code>$HOME/.emacs.d</code>
</p>



<pre class="src src-elisp">(add-to-list 'load-path <span style="color: #70c0b1;">"~/.emacs.d/"</span>)
</pre>


</div>

</div>

<div id="outline-container-2-2" class="outline-3">
<h3 id="sec-2-2">Package Manager</h3>
<div class="outline-text-3" id="text-2-2">


<p>
   Emacs has become like every other operating system, and now has a
   <a href="http://tromey.com/elpa/">package manager</a> with its own collection of repositories. Of
   course, now, instead of trying to figure out and maintain
   packages, we have to keep track of what packages live on what
   repos. This is <a href="http://batsov.com/articles/2012/02/19/package-management-in-emacs-the-good-the-bad-and-the-ugly/">an improvement</a>.
</p>
<p>
   <b>NB:</b> We want to add the <a href="http://marmalade-repo.org/">Marmalade repository</a>.
</p>



<pre class="src src-elisp"><span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">(load "~/.emacs.d/elpa/package.el") Needed for version 23 only!</span>

(<span style="color: #b9ca4a;">require</span> '<span style="color: #e78c45;">package</span>)

(setq package-archives '((<span style="color: #70c0b1;">"org"</span>       . <span style="color: #70c0b1;">"http://orgmode.org/elpa/"</span>)
                         (<span style="color: #70c0b1;">"gnu"</span>       . <span style="color: #70c0b1;">"http://elpa.gnu.org/packages/"</span>)
                         (<span style="color: #70c0b1;">"tromey"</span>    . <span style="color: #70c0b1;">"http://tromey.com/elpa/"</span>)
                         (<span style="color: #70c0b1;">"marmalade"</span> . <span style="color: #70c0b1;">"http://marmalade-repo.org/packages/"</span>)))
</pre>


<p>
   While we can now do a <code>package-list-packages</code>, you can install and
   everything is good, however, we can't <code>require</code> any of these
   packages (in order to customize them in this file) until we do
   this:
</p>



<pre class="src src-elisp">(package-initialize)
</pre>


</div>

</div>

<div id="outline-container-2-3" class="outline-3">
<h3 id="sec-2-3">Variables</h3>
<div class="outline-text-3" id="text-2-3">


<p>
   General settings about me that other packages can use. The biggest
   problem is guessing my email address based on what computer I am using:
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">if</span> (equal <span style="color: #70c0b1;">"habrams"</span> user-login-name)
    (setq user-mail-address <span style="color: #70c0b1;">"habrams@gilt.com"</span>)
  (setq user-mail-address <span style="color: #70c0b1;">"howard.abrams@gmail.com"</span>))
</pre>



</div>

<div id="outline-container-2-3-1" class="outline-4">
<h4 id="sec-2-3-1">Tabs vs Spaces</h4>
<div class="outline-text-4" id="text-2-3-1">


<p>
   I have learned to distrust tabs in my source code, so let's make
   sure that we only have spaces.
</p>



<pre class="src src-elisp">(setq-default indent-tabs-mode nil)
(setq tab-width 2)
</pre>


</div>
</div>

</div>

<div id="outline-container-2-4" class="outline-3">
<h3 id="sec-2-4">Font Settings</h3>
<div class="outline-text-3" id="text-2-4">


<p>
   I love syntax highlighting.
</p>



<pre class="src src-elisp">(global-font-lock-mode 1)
</pre>


<p>
   Specify the default font as <code>Source Code Pro</code>, which should already
   be <a href="http://blogs.adobe.com/typblography/2012/09/source-code-pro.html">downloaded</a> and installed.
</p>



<pre class="src src-elisp">(set-default-font <span style="color: #70c0b1;">"Source Code Pro"</span>)
(set-face-attribute 'default nil <span style="color: #c397d8;">:font</span> <span style="color: #70c0b1;">"Source Code Pro"</span> <span style="color: #c397d8;">:height</span> 140)
(set-face-font 'default <span style="color: #70c0b1;">"Source Code Pro"</span>)
</pre>


<p>
   While I do like the <code>Anonymous Pro</code> font (and usually have it download and
   installed), I don't like it as much.
</p>



<pre class="src src-elisp">(set-default-font <span style="color: #70c0b1;">"Anonymous Pro"</span>)
(set-face-attribute 'default nil <span style="color: #c397d8;">:font</span> <span style="color: #70c0b1;">"Anonymous Pro"</span> <span style="color: #c397d8;">:height</span> 140)
(set-face-font 'default <span style="color: #70c0b1;">"Anonymous Pro"</span>)
</pre>


</div>

</div>

<div id="outline-container-2-5" class="outline-3">
<h3 id="sec-2-5">Color Theme</h3>
<div class="outline-text-3" id="text-2-5">


<p>
   We use the color theme project and followed <a href="http://www.nongnu.org/color-theme/">these instructions</a>.
   We now can do <code>M-x color-theme-&lt;TAB&gt; RET</code>
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">require</span> '<span style="color: #e78c45;">color-theme</span>)
</pre>


<p>
   The color themes work quite well, except they don't know about the
   org-mode source code blocks, so we need to set up a couple
   functions that we can use to set them.
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">defun</span> <span style="color: #7aa6da;">org-src-color-blocks-light</span> ()
  <span style="color: #c397d8;">"Colors the block headers and footers to make them stand out more for lighter themes"</span>
  (interactive)
  (custom-set-faces
   '(org-block-begin-line 
    ((t (<span style="color: #c397d8;">:underline</span> <span style="color: #70c0b1;">"#A7A6AA"</span> <span style="color: #c397d8;">:foreground</span> <span style="color: #70c0b1;">"#008ED1"</span> <span style="color: #c397d8;">:background</span> <span style="color: #70c0b1;">"#EAEAFF"</span>))))
   '(org-block-background
     ((t (<span style="color: #c397d8;">:background</span> <span style="color: #70c0b1;">"#FFFFEA"</span>))))
   '(org-block-end-line
     ((t (<span style="color: #c397d8;">:overline</span> <span style="color: #70c0b1;">"#A7A6AA"</span> <span style="color: #c397d8;">:foreground</span> <span style="color: #70c0b1;">"#008ED1"</span> <span style="color: #c397d8;">:background</span> <span style="color: #70c0b1;">"#EAEAFF"</span>)))))

   <span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">Looks like the minibuffer issues are only for v23</span>
   <span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">(set-face-foreground 'minibuffer "black")</span>
   <span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">(set-face-foreground 'minibuffer-prompt "red")</span>
)

(<span style="color: #b9ca4a;">defun</span> <span style="color: #7aa6da;">org-src-color-blocks-dark</span> ()
  <span style="color: #c397d8;">"Colors the block headers and footers to make them stand out more for dark themes"</span>
  (interactive)
  (custom-set-faces
   '(org-block-begin-line 
     ((t (<span style="color: #c397d8;">:foreground</span> <span style="color: #70c0b1;">"#008ED1"</span> <span style="color: #c397d8;">:background</span> <span style="color: #70c0b1;">"#002E41"</span>))))
   '(org-block-background
     ((t (<span style="color: #c397d8;">:background</span> <span style="color: #70c0b1;">"#111111"</span>))))
   '(org-block-end-line
     ((t (<span style="color: #c397d8;">:foreground</span> <span style="color: #70c0b1;">"#008ED1"</span> <span style="color: #c397d8;">:background</span> <span style="color: #70c0b1;">"#002E41"</span>)))))

   <span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">Looks like the minibuffer issues are only for v23</span>
   <span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">(set-face-foreground 'minibuffer "white")</span>
   <span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">(set-face-foreground 'minibuffer-prompt "white")</span>
)
</pre>


<p>
   My main reason for wanting to use the color theme project is to
   switch between <i>black on white</i> during the day, and <i>white on    black</i> at night.
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">defun</span> <span style="color: #7aa6da;">color-theme-my-default</span> ()
  <span style="color: #c397d8;">"Tries to set up a normal color scheme"</span>
  (interactive)
  (color-theme-sanityinc-tomorrow-day)
  (org-src-color-blocks-light))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">During the day, we use the "standard" theme:</span>
(global-set-key (kbd <span style="color: #70c0b1;">"&lt;f9&gt; d"</span>) 'color-theme-my-default)

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">A good late-night scheme that isn't too harsh</span>
(global-set-key (kbd <span style="color: #70c0b1;">"&lt;f9&gt; l"</span>) (<span style="color: #b9ca4a;">lambda</span> () (interactive)
                                 (color-theme-sanityinc-tomorrow-eighties)
                                 (org-src-color-blocks-dark)))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">Programming late into the night</span>
(global-set-key (kbd <span style="color: #70c0b1;">"&lt;f9&gt; m"</span>) (<span style="color: #b9ca4a;">lambda</span> () (interactive)
                                 (color-theme-sanityinc-tomorrow-bright)
                                 (org-src-color-blocks-dark)))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">Too harsh? Use the late night theme</span>
(global-set-key (kbd <span style="color: #70c0b1;">"&lt;f9&gt; n"</span>) (<span style="color: #b9ca4a;">lambda</span> () (interactive)
                                 (color-theme-sanityinc-tomorrow-night)
                                 (org-src-color-blocks-dark)))
</pre>


</div>

</div>

<div id="outline-container-2-6" class="outline-3">
<h3 id="sec-2-6">Macintosh</h3>
<div class="outline-text-3" id="text-2-6">


<p>
   I like the ability to use the Command key to turn a standard Emacs
   into a more Macintosh-specific application. (See <a href="http://stackoverflow.com/questions/162896/emacs-on-mac-os-x-leopard-key-bindings">these online notes</a>)
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">when</span> (eq system-type 'darwin)
  <span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">(require 'redo+)</span>
  (<span style="color: #b9ca4a;">require</span> '<span style="color: #e78c45;">mac-key-mode</span>)
  (mac-key-mode 1)

  (define-key mac-key-mode-map [(alt +)] 'text-scale-increase)
  (define-key mac-key-mode-map [(alt _)] 'text-scale-decrease)
  (define-key mac-key-mode-map [(alt l)] 'goto-line))  
</pre>


</div>

</div>

<div id="outline-container-2-7" class="outline-3">
<h3 id="sec-2-7">More Key Definitions</h3>
<div class="outline-text-3" id="text-2-7">


<p>
   I like the ability to move the current line up or down by just
   doing <code>S-M-up</code> and <code>S-M-down</code> (just like in Eclipse):
</p>



<pre class="src src-elisp">(load-library <span style="color: #70c0b1;">"line-move"</span>)
</pre>


</div>

</div>

<div id="outline-container-2-8" class="outline-3">
<h3 id="sec-2-8">Recent File List</h3>
<div class="outline-text-3" id="text-2-8">


<p>
   According to <a href="http://www.emacswiki.org/emacs-es/RecentFiles">this article</a>, Emacs already has the recent file
   listing available, just not turned on.
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">require</span> '<span style="color: #e78c45;">recentf</span>)
(recentf-mode 1)
(setq recentf-max-menu-items 25)
(global-set-key <span style="color: #70c0b1;">"\C-x\ \C-r"</span> 'recentf-open-files)
</pre>


</div>

</div>

<div id="outline-container-2-9" class="outline-3">
<h3 id="sec-2-9">Miscellaneous Settings</h3>
<div class="outline-text-3" id="text-2-9">



</div>

<div id="outline-container-2-9-1" class="outline-4">
<h4 id="sec-2-9-1">IDO (Interactively DO Things)</h4>
<div class="outline-text-4" id="text-2-9-1">


<p>
    According to <a href="http://www.masteringemacs.org/articles/2010/10/10/introduction-to-ido-mode/">Mickey</a>, IDO is the greatest thing.
</p>



<pre class="src src-elisp">(setq ido-enable-flex-matching t)
(setq ido-everywhere t)
(ido-mode 1)
</pre>


<p>
    I guess you can call <code>ido-use-url-at-point</code> with Markdown to jump
    to the URLs. Perhaps?
</p>
</div>

</div>

<div id="outline-container-2-9-2" class="outline-4">
<h4 id="sec-2-9-2">SMEX</h4>
<div class="outline-text-4" id="text-2-9-2">


<p>
    Built using <a href="#sec-2-9-1">IDO</a>.
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">require</span> '<span style="color: #e78c45;">smex</span>)
(smex-initialize) <span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">Can be omitted. This might cause a (minimal) delay</span>

(global-set-key (kbd <span style="color: #70c0b1;">"M-x"</span>) 'smex)
(global-set-key (kbd <span style="color: #70c0b1;">"M-X"</span>) 'smex-major-mode-commands)

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">This is our old M-x.</span>
(global-set-key (kbd <span style="color: #70c0b1;">"C-c C-c M-x"</span>) 'execute-extended-command)
</pre>


</div>

</div>

<div id="outline-container-2-9-3" class="outline-4">
<h4 id="sec-2-9-3">Backup Settings</h4>
<div class="outline-text-4" id="text-2-9-3">


<p>
    This setting moves all backup files to a central location.
    Got it from <a href="http://whattheemacsd.com/init.el-02.html">this page</a>.
</p>



<pre class="src src-elisp">(setq backup-directory-alist
      `((<span style="color: #70c0b1;">"."</span> . ,(expand-file-name
                 (concat user-emacs-directory <span style="color: #70c0b1;">"backups"</span>)))))
</pre>


<p>
   Make backups of files, even when they're in version control
</p>



<pre class="src src-elisp">(setq vc-make-backup-files t)
</pre>


</div>

</div>

<div id="outline-container-2-9-4" class="outline-4">
<h4 id="sec-2-9-4">Line Numbers</h4>
<div class="outline-text-4" id="text-2-9-4">


<p>
    Let's create keystrokes to turn on/off line numbering:
</p>



<pre class="src src-elisp">(define-key mac-key-mode-map [(alt k)] 'nlinum-mode)
</pre>


<p>
    Do we want this to turn on automatically with certain modes?
</p>
</div>

</div>

<div id="outline-container-2-9-5" class="outline-4">
<h4 id="sec-2-9-5">Smart Scan</h4>
<div class="outline-text-4" id="text-2-9-5">


<p>
    Use the <code>M-n</code> to search the buffer for the word the cursor is
    currently pointing. <code>M-p</code> to go backwards.
</p>



<pre class="src src-elisp">(load-library <span style="color: #70c0b1;">"smart-scan"</span>)
</pre>

</div>
</div>
</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3">Org Mode</h2>
<div class="outline-text-2" id="text-3">


<p>
  The <a href="http://orgmode.org">Org Mode</a> feature was a big reason in my recent re-kindling of my
  Emacs love affair.
</p>

</div>

<div id="outline-container-3-1" class="outline-3">
<h3 id="sec-3-1">Initial Variables</h3>
<div class="outline-text-3" id="text-3-1">


<p>
   On a semi-regular basis, we store some <b>important</b> files as
   variables that can be referenced elsewhere.
</p>

</div>

<div id="outline-container-3-1-1" class="outline-4">
<h4 id="sec-3-1-1">Recent and Heavily Used Files</h4>
<div class="outline-text-4" id="text-3-1-1">


<p>
    We want both a recently seen files as well, as a top 10. This
    <i>Top 10</i> file list can just be an Org file, right?
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">defun</span> <span style="color: #7aa6da;">find-file-top-10</span> ()
  (interactive)
  (find-file <span style="color: #70c0b1;">"~/.emacs-recent.org"</span>))

(<span style="color: #b9ca4a;">defun</span> <span style="color: #7aa6da;">find-file-current-sprint</span> ()
  (interactive)
  (find-file current-sprint-file))

(define-key global-map <span style="color: #70c0b1;">"\C-x\C-y"</span> 'find-file-top-10)
(define-key global-map <span style="color: #70c0b1;">"\C-x\C-u"</span> 'find-file-current-sprint)
</pre>


</div>

</div>

<div id="outline-container-3-1-2" class="outline-4">
<h4 id="sec-3-1-2">Org-Mode Sprint Note Files</h4>
<div class="outline-text-4" id="text-3-1-2">


<p>
    At the beginning of each sprint, we need to set this to the new
    sprint file.
</p>



<pre class="src src-elisp">(setq current-sprint <span style="color: #70c0b1;">"2013-POP24"</span>)

(<span style="color: #b9ca4a;">defun</span> <span style="color: #7aa6da;">get-current-sprint-file</span> ()
  (expand-file-name (concat <span style="color: #70c0b1;">"~/Dropbox/org/gilt/Sprint-"</span> current-sprint <span style="color: #70c0b1;">".org"</span>)))
(<span style="color: #b9ca4a;">defvar</span> <span style="color: #e7c547;">current-sprint-file</span> 
  (get-current-sprint-file)
  <span style="color: #c397d8;">"The name of an Org mode that stores information about the current sprint."</span>)

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">Changed the name of the sprint? Run:   (create-sprint-file)</span>
</pre>


<p>
    When we change to a new sprint, we need to create a new Sprint
    Org File (from a template).
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">defun</span> <span style="color: #7aa6da;">create-sprint-file</span> ()
  <span style="color: #c397d8;">"Creates a new Sprint file"</span>
  (interactive)
  (<span style="color: #b9ca4a;">let</span> (today (format-time-string <span style="color: #70c0b1;">"%Y-%m-%d %a"</span>))
    (setq template (concat <span style="color: #70c0b1;">"#+TITLE:  Sprint "</span> current-sprint <span style="color: #70c0b1;">"\n"</span>
                  <span style="color: #70c0b1;">"#+AUTHOR: Howard Abrams\n"</span>
                  <span style="color: #70c0b1;">"#+EMAIL:  habrams@gilt.com\n"</span>
                  <span style="color: #70c0b1;">"#+DATE:   "</span> today <span style="color: #70c0b1;">"\n\n"</span>
                  <span style="color: #70c0b1;">"* My Work Issues\n\n"</span>
                  <span style="color: #70c0b1;">"* Sprint Retrospective\n\n"</span>))
    (<span style="color: #b9ca4a;">with-temp-file</span> current-sprint-file
      (insert template)
      (message (concat <span style="color: #70c0b1;">"Created "</span> current-sprint-file)))))
</pre>


</div>

</div>

<div id="outline-container-3-1-3" class="outline-4">
<h4 id="sec-3-1-3">Org-Mode Colors</h4>
<div class="outline-text-4" id="text-3-1-3">


<p>
  Before we load <code>org-mode</code> proper, we need to set the following
  syntax high-lighting parameters. These are used to help bring out
  the source code during literate programming mode.
</p>
<p>
  This information came from <a href="http://orgmode.org/worg/org-contrib/babel/examples/fontify-src-code-blocks.html">these instructions</a>, however, they tend
  to conflict with the <i>color-theme</i>, so we'll turn them off for now.
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">defface</span> <span style="color: #e7c547;">org-block-begin-line</span>
  '((t (<span style="color: #c397d8;">:underline</span> <span style="color: #70c0b1;">"#A7A6AA"</span> <span style="color: #c397d8;">:foreground</span> <span style="color: #70c0b1;">"#008ED1"</span> <span style="color: #c397d8;">:background</span> <span style="color: #70c0b1;">"#EAEAFF"</span>)))
  <span style="color: #c397d8;">"Face used for the line delimiting the begin of source blocks."</span>)

(<span style="color: #b9ca4a;">defface</span> <span style="color: #e7c547;">org-block-background</span>
  '((t (<span style="color: #c397d8;">:background</span> <span style="color: #70c0b1;">"#FFFFEA"</span>)))
  <span style="color: #c397d8;">"Face used for the source block background."</span>)

(<span style="color: #b9ca4a;">defface</span> <span style="color: #e7c547;">org-block-end-line</span>
  '((t (<span style="color: #c397d8;">:overline</span> <span style="color: #70c0b1;">"#A7A6AA"</span> <span style="color: #c397d8;">:foreground</span> <span style="color: #70c0b1;">"#008ED1"</span> <span style="color: #c397d8;">:background</span> <span style="color: #70c0b1;">"#EAEAFF"</span>)))
  <span style="color: #c397d8;">"Face used for the line delimiting the end of source blocks."</span>)
</pre>


</div>
</div>

</div>

<div id="outline-container-3-2" class="outline-3">
<h3 id="sec-3-2">Library Loading</h3>
<div class="outline-text-3" id="text-3-2">


<p>
   The standard package manager (and most recent versions of Emacs)
   include <code>org-mode</code>, however, I want the latest version that has
   specific features for literate programming.
</p>
<p>
   Org-mode is installed in the global directory.
</p>



<pre class="src src-elisp">(add-to-list 'load-path <span style="color: #70c0b1;">"~/.emacs.d/org/lisp"</span>)
(<span style="color: #b9ca4a;">require</span> '<span style="color: #e78c45;">org</span>)
<span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">(require 'org-install)</span>
(<span style="color: #b9ca4a;">require</span> '<span style="color: #e78c45;">ob-tangle</span>)
</pre>


</div>

</div>

<div id="outline-container-3-3" class="outline-3">
<h3 id="sec-3-3">Global Key Bindings for Org-Mode</h3>
<div class="outline-text-3" id="text-3-3">


<p>
   The <code>org-mode</code> has some useful keybindings that are helpful no
   matter what mode you are using currently.
</p>



<pre class="src src-elisp">(global-set-key <span style="color: #70c0b1;">"\C-cl"</span> 'org-store-link)
(global-set-key <span style="color: #70c0b1;">"\C-ca"</span> 'org-agenda)
(global-set-key <span style="color: #70c0b1;">"\C-cb"</span> 'org-iswitchb)
</pre>


</div>

</div>

<div id="outline-container-3-4" class="outline-3">
<h3 id="sec-3-4">Speed Keys</h3>
<div class="outline-text-3" id="text-3-4">


<p>
   If point is at the beginning of a headline or code block in
   org-mode, single keys do fun things. See <code>org-speed-command-help</code>
   for details (or hit the ? key at a headline).
</p>



<pre class="src src-elisp">(setq org-use-speed-commands t)
</pre>


</div>

</div>

<div id="outline-container-3-5" class="outline-3">
<h3 id="sec-3-5">Specify the Org Directories</h3>
<div class="outline-text-3" id="text-3-5">


<p>
   I keep all my <code>org-mode</code> files in a few directories, and I would
   like them automatically searched when I generate agendas.
</p>



<pre class="src src-elisp">(setq org-agenda-files '(<span style="color: #70c0b1;">"~/Dropbox/org/personal"</span> 
                         <span style="color: #70c0b1;">"~/Dropbox/org/gilt"</span> 
                         <span style="color: #70c0b1;">"~/Dropbox/org/lg"</span> 
                         <span style="color: #70c0b1;">"~/Dropbox/org/rpg"</span> 
                         <span style="color: #70c0b1;">"~/Dropbox/org/project"</span>))
</pre>


</div>

</div>

<div id="outline-container-3-6" class="outline-3">
<h3 id="sec-3-6">Auto Note Capturing</h3>
<div class="outline-text-3" id="text-3-6">


<p>
   Let's say you were in the middle of something, but would like to
   <i>take a quick note</i>, but without affecting the file you are
   working on. This is called a "capture", and is bound to the
   following key:
</p>



<pre class="src src-elisp">(define-key global-map <span style="color: #70c0b1;">"\C-cc"</span> 'org-capture)
</pre>


<p>
   This will bring up a list of <i>note capturing templates</i>:
</p>



<pre class="src src-elisp">(setq org-capture-templates
      '((<span style="color: #70c0b1;">"t"</span> <span style="color: #70c0b1;">"Thought or Note"</span> plain (file <span style="color: #70c0b1;">"~/Dropbox/org/notes/GTD Thoughts.txt"</span>)
         <span style="color: #70c0b1;">"  * %i%?\n    %a"</span>)
        (<span style="color: #70c0b1;">"d"</span> <span style="color: #70c0b1;">"General TODO Tasks"</span> entry (file <span style="color: #70c0b1;">"~/Dropbox/org/notes/GTD Tasks.org"</span>)
         <span style="color: #70c0b1;">"* TODO %?\n  %i\n  %a"</span> <span style="color: #c397d8;">:empty-lines</span> 1)
        (<span style="color: #70c0b1;">"g"</span> <span style="color: #70c0b1;">"Interesting Gilt Link"</span> entry (file+headline <span style="color: #70c0b1;">"~/Dropbox/org/gilt/General.org"</span> <span style="color: #70c0b1;">"Links"</span>)
         <span style="color: #70c0b1;">"* %i%? :gilt:\n  Captured: %t\n  Linked: %a"</span> <span style="color: #c397d8;">:empty-lines</span> 1)
        (<span style="color: #70c0b1;">"w"</span> <span style="color: #70c0b1;">"Work Task"</span> entry (file+headline <span style="color: #70c0b1;">"~/Dropbox/org/gilt/General.org"</span> <span style="color: #70c0b1;">"Tasks"</span>)
         <span style="color: #70c0b1;">"* TODO %?%i :gilt:"</span> <span style="color: #c397d8;">:empty-lines</span> 1)
        (<span style="color: #70c0b1;">"r"</span> <span style="color: #70c0b1;">"Retrospective Note"</span> entry (file+headline current-sprint-file <span style="color: #70c0b1;">"Sprint Retrospective"</span>)
         <span style="color: #70c0b1;">"* (Good/Bad) %i%? :gilt:\n  Sprint: %t\n  Linked: %a"</span> <span style="color: #c397d8;">:empty-lines</span> 1)
        (<span style="color: #70c0b1;">"j"</span> <span style="color: #70c0b1;">"Journal"</span> entry (file+datetree <span style="color: #70c0b1;">"~/Dropbox/org/Journal Events.org"</span>)
         <span style="color: #70c0b1;">"* %?\nEntered on %U\n  %i\n  %a"</span>)))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">General notes go into this file:</span>
(setq org-default-notes-file <span style="color: #70c0b1;">"~/Dropbox/org/notes/GTD Tasks.org"</span>)
</pre>


<p>
   After you have selected the template, you type in your note and hit
   <code>C-c C-c</code> to store it in the file listed above.
</p>
<p>
   Just remember, at some point to hit <code>C-c C-w</code> to <i>refile</i> that note
   in the appropriate place.
</p>

</div>

<div id="outline-container-3-6-1" class="outline-4">
<h4 id="sec-3-6-1">RSS Feeds to Notes</h4>
<div class="outline-text-4" id="text-3-6-1">


<p>
    A cool feature allows me to automatically take the tasks assigned
    to me during a Sprint, and create entries for me to add my
    personal notes and comments.
</p>



<pre class="src src-elisp">(setq org-feed-alist
      (list (list <span style="color: #70c0b1;">"Gilt Jira"</span>
        <span style="color: #70c0b1;">"https://jira.gilt.com/sr/jira.issueviews:searchrequest-xml/15717/SearchRequest-15717.xml"</span>
        (get-current-sprint-file) <span style="color: #70c0b1;">"My Work Issues"</span>)))
(setq org-feed-default-template <span style="color: #70c0b1;">"** %h\n   %a"</span>)
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">We really want to change the %h to %( replace ... \"%h\" and \"%a\" )</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">%(concat \"[[\%a][\" (substring \"%h\" 1) \"]\")</span>
</pre>


<p>
    To regen the list, hit: <code>C-c C-x g</code>
</p>
</div>
</div>

</div>

<div id="outline-container-3-7" class="outline-3">
<h3 id="sec-3-7">Checking Things Off</h3>
<div class="outline-text-3" id="text-3-7">


<p>
   When I check off an item as done, sometimes I want to add some
   details about the completion (this is really only helpful when I'm
   consulting). 
</p>
<p>
   With this setting, each time you turn an entry from a TODO state
   into the DONE state, a line 'CLOSED: [timestamp]' will be inserted
   just after the headline. If you turn the entry back into a TODO
   item through further state cycling, that line will be removed
   again.
</p>



<pre class="src src-elisp"><span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">(setq org-log-done 'time)</span>
(setq org-log-done 'note)
</pre>


</div>

</div>

<div id="outline-container-3-8" class="outline-3">
<h3 id="sec-3-8">Org Publishing</h3>
<div class="outline-text-3" id="text-3-8">


<p>
   The brilliance of <code>org-mode</code> is the ability to publish your notes
   as HTML files into a web server. See <a href="http://orgmode.org/worg/org-tutorials/org-publish-html-tutorial.html">these instructions</a>.
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">require</span> '<span style="color: #e78c45;">org-publish</span>)

(setq org-publish-project-alist  '(
  (<span style="color: #70c0b1;">"org-notes"</span>
   <span style="color: #c397d8;">:base-directory</span>        <span style="color: #70c0b1;">"~/Dropbox/org/"</span>
   <span style="color: #c397d8;">:base-extension</span>        <span style="color: #70c0b1;">"org"</span>
   <span style="color: #c397d8;">:publishing-directory</span>  <span style="color: #70c0b1;">"~/Sites/"</span>
   <span style="color: #c397d8;">:recursive</span>             t
   <span style="color: #c397d8;">:publishing-function</span>   org-publish-org-to-html
   <span style="color: #c397d8;">:headline-levels</span>       4             <span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">Just the default for this project.</span>
   <span style="color: #c397d8;">:auto-preamble</span>         t
   <span style="color: #c397d8;">:auto-sitemap</span>          t             <span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">Generate sitemap.org automagically...</span>
   <span style="color: #c397d8;">:makeindex</span>             t
   <span style="color: #c397d8;">:section-numbers</span>       nil
   <span style="color: #c397d8;">:table-of-contents</span>     nil
   <span style="color: #c397d8;">:style</span> <span style="color: #70c0b1;">"&lt;link rel=\"stylesheet\" href=\"../css/styles.css\" type=\"text/css\"/&gt;&lt;link rel=\"stylesheet\" href=\"css/styles.css\" type=\"text/css\"/&gt; &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt; &lt;link href=\"http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/themes/smoothness/jquery-ui.css\" type=\"text/css\" rel=\"Stylesheet\" /&gt;    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt; &lt;script =\"text/jacascript\" src=\"js/script.js\"&gt;&lt;/script&gt;"</span>
   )

  (<span style="color: #70c0b1;">"dot-files"</span>
   <span style="color: #c397d8;">:base-directory</span>       <span style="color: #70c0b1;">"~/Dropbox/dot-files/"</span>
   <span style="color: #c397d8;">:base-extension</span>       <span style="color: #70c0b1;">"org"</span>
   <span style="color: #c397d8;">:publishing-directory</span> <span style="color: #70c0b1;">"~/Dropbox/dot-files/docs"</span>
   <span style="color: #c397d8;">:recursive</span>            f
   <span style="color: #c397d8;">:publishing-function</span>   org-publish-org-to-html
   <span style="color: #c397d8;">:auto-preamble</span>         t
   <span style="color: #c397d8;">:auto-sitemap</span>          t             <span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">Generate sitemap.org automagically...</span>
   <span style="color: #c397d8;">:makeindex</span>             f
   <span style="color: #c397d8;">:section-numbers</span>       nil
   <span style="color: #c397d8;">:table-of-contents</span>     nil
   )

  (<span style="color: #70c0b1;">"org-static"</span>
   <span style="color: #c397d8;">:base-directory</span>       <span style="color: #70c0b1;">"~/Dropbox/org/"</span>
   <span style="color: #c397d8;">:base-extension</span>       <span style="color: #70c0b1;">"css</span><span style="color: #e7c547; font-weight: bold;">\\</span><span style="color: #c397d8; font-weight: bold;">|</span><span style="color: #70c0b1;">js</span><span style="color: #e7c547; font-weight: bold;">\\</span><span style="color: #c397d8; font-weight: bold;">|</span><span style="color: #70c0b1;">png</span><span style="color: #e7c547; font-weight: bold;">\\</span><span style="color: #c397d8; font-weight: bold;">|</span><span style="color: #70c0b1;">jpg</span><span style="color: #e7c547; font-weight: bold;">\\</span><span style="color: #c397d8; font-weight: bold;">|</span><span style="color: #70c0b1;">gif</span><span style="color: #e7c547; font-weight: bold;">\\</span><span style="color: #c397d8; font-weight: bold;">|</span><span style="color: #70c0b1;">pdf</span><span style="color: #e7c547; font-weight: bold;">\\</span><span style="color: #c397d8; font-weight: bold;">|</span><span style="color: #70c0b1;">mp3</span><span style="color: #e7c547; font-weight: bold;">\\</span><span style="color: #c397d8; font-weight: bold;">|</span><span style="color: #70c0b1;">ogg</span><span style="color: #e7c547; font-weight: bold;">\\</span><span style="color: #c397d8; font-weight: bold;">|</span><span style="color: #70c0b1;">swf"</span>
   <span style="color: #c397d8;">:publishing-directory</span> <span style="color: #70c0b1;">"~/Sites/"</span>
   <span style="color: #c397d8;">:recursive</span>            t
   <span style="color: #c397d8;">:publishing-function</span>  org-publish-attachment
   )

  (<span style="color: #70c0b1;">"all"</span> <span style="color: #c397d8;">:components</span> (<span style="color: #70c0b1;">"org-notes"</span> <span style="color: #70c0b1;">"org-static"</span> <span style="color: #70c0b1;">"dot-files"</span>))))
</pre>


<p>
   I really, really would like to affect the output of the
   exported/published HTML files to make them <i>prettier</i>.
</p>



<pre class="src src-elisp">(setq org-export-html-style <span style="color: #70c0b1;">"&lt;link rel='stylesheet' href='http://www.howardism.org/styles/org-export-html-style.css' type='text/css'/&gt;</span>
<span style="color: #70c0b1;">&lt;script src='http://use.edgefonts.net/source-sans-pro.js'&gt;&lt;/script&gt;</span>
<span style="color: #70c0b1;">&lt;script src='http://use.edgefonts.net/source-code-pro.js'&gt;&lt;/script&gt;"</span>)
</pre>



</div>

<div id="outline-container-3-8-1" class="outline-4">
<h4 id="sec-3-8-1">Default Export Settings</h4>
<div class="outline-text-4" id="text-3-8-1">


<p>
    To make the <code>org-mode</code> export defaults closer to my liking
    (without having to put specific #+PROPERTY commands), start by
    <code>describe-variable</code> the <code>org-export-plist-vars</code> variable.
</p>
<p>
    This returns the list of variables that can be customized:
</p>



<pre class="src src-elisp">(setq org-export-with-section-numbers nil)
(setq org-export-with-toc nil)
(setq org-export-skip-text-before-1st-heading nil)

(setq org-export-html-postamble nil) <span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">We don't need any gunk at end</span>

<span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">(setq org-export-creator-info nil)</span>
<span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">(setq org-export-email-info nil)</span>
<span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">(setq org-export-author-info nil)</span>
<span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">(setq org-export-time-stamp-file nil)</span>
<span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">(setq org-export-html-with-timestamp nil)</span>
</pre>


</div>

</div>

<div id="outline-container-3-8-2" class="outline-4">
<h4 id="sec-3-8-2">Publishing as Presentation</h4>
<div class="outline-text-4" id="text-3-8-2">


<p>
    Out of all <a href="http://orgmode.org/worg/org-tutorials/non-beamer-presentations.html">the ideas</a> online, I prefer using <a href="http://meyerweb.com/eric/tools/s5/">S5</a>, and by loading
    <a href="https://github.com/eschulte/org-S5/blob/master/org-export-as-s5.el">this code</a>, we can issue <code>org-export-as-s5</code>:
</p>



<pre class="src src-elisp">(load-library <span style="color: #70c0b1;">"org-export-as-s5"</span>)
</pre>


<p>
    And let's tie this to a keystroke to make it easier to use:
</p>



<pre class="src src-elisp">(global-set-key (kbd <span style="color: #70c0b1;">"&lt;f9&gt; p"</span>) 'org-export-as-s5)
</pre>


</div>

</div>

<div id="outline-container-3-8-3" class="outline-4">
<h4 id="sec-3-8-3">Publish as Markdown</h4>
<div class="outline-text-4" id="text-3-8-3">


<p>
    Using the <a href="http://orgmode.org/worg/org-contrib/org-export-generic.php">org-export-generic</a> feature, we can export to Markdown
    using <code>C-c C-e g M</code>:
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">require</span> '<span style="color: #e78c45;">org-export-generic</span>)
(org-set-generic-type
 <span style="color: #70c0b1;">"Markdown"</span> 
 '(<span style="color: #c397d8;">:file-suffix</span> <span style="color: #70c0b1;">".markdown"</span>
   <span style="color: #c397d8;">:key-binding</span> ?M
   <span style="color: #c397d8;">:title-format</span> <span style="color: #70c0b1;">"%s\n"</span>
   <span style="color: #c397d8;">:title-suffix</span> ?=
   <span style="color: #c397d8;">:body-header-section-numbers</span> t
   <span style="color: #c397d8;">:body-header-section-number-format</span> <span style="color: #70c0b1;">"%s) "</span>
   <span style="color: #c397d8;">:body-section-header-prefix</span>  (<span style="color: #70c0b1;">"\n## "</span> <span style="color: #70c0b1;">"\n### "</span> <span style="color: #70c0b1;">"\n#### "</span> <span style="color: #70c0b1;">"\n##### "</span> <span style="color: #70c0b1;">"\n###### "</span>)
   <span style="color: #c397d8;">:body-section-header-format</span>  <span style="color: #70c0b1;">"%s"</span>
   <span style="color: #c397d8;">:body-section-header-suffix</span> <span style="color: #70c0b1;">"\n\n"</span>
   <span style="color: #c397d8;">:todo-keywords-export</span> t
   <span style="color: #c397d8;">:body-line-format</span> <span style="color: #70c0b1;">"  %s\n"</span>
   <span style="color: #c397d8;">:body-tags-export</span>    t
   <span style="color: #c397d8;">:body-tags-prefix</span>    <span style="color: #70c0b1;">" &lt;tags&gt;"</span>
   <span style="color: #c397d8;">:body-tags-suffix</span>    <span style="color: #70c0b1;">"&lt;/tags&gt;\n"</span>
   <span style="color: #969896; font-style: italic;">;;</span><span style="color: #969896; font-style: italic;">:body-section-prefix       "&lt;secprefix&gt;\n"</span>
   <span style="color: #969896; font-style: italic;">;;</span><span style="color: #969896; font-style: italic;">:body-section-suffix       "&lt;/secsuffix&gt;\n"</span>
   <span style="color: #c397d8;">:body-line-export-preformated</span>        t
   <span style="color: #c397d8;">:body-line-fixed-prefix</span>      <span style="color: #70c0b1;">"&lt;pre&gt;\n"</span>
   <span style="color: #c397d8;">:body-line-fixed-suffix</span>      <span style="color: #70c0b1;">"\n&lt;/pre&gt;\n"</span>
   <span style="color: #c397d8;">:body-line-fixed-format</span>      <span style="color: #70c0b1;">"%s\n"</span>
   <span style="color: #c397d8;">:body-list-prefix</span>    <span style="color: #70c0b1;">"\n"</span>
   <span style="color: #c397d8;">:body-list-suffix</span>    <span style="color: #70c0b1;">"\n"</span>
   <span style="color: #c397d8;">:body-list-format</span>    <span style="color: #70c0b1;">"  * %s\n"</span>
   <span style="color: #969896; font-style: italic;">;;</span><span style="color: #969896; font-style: italic;">:body-number-list-prefix   "&lt;ol&gt;\n"</span>
   <span style="color: #969896; font-style: italic;">;;</span><span style="color: #969896; font-style: italic;">:body-number-list-suffix   "&lt;/ol&gt;\n"</span>
   <span style="color: #969896; font-style: italic;">;;</span><span style="color: #969896; font-style: italic;">:body-number-list-format   "&lt;li&gt;%s&lt;/li&gt;\n"</span>
   <span style="color: #969896; font-style: italic;">;;</span><span style="color: #969896; font-style: italic;">:body-number-list-leave-number     t</span>
   <span style="color: #c397d8;">:body-list-checkbox-todo</span>     <span style="color: #70c0b1;">"[_] "</span>
   <span style="color: #c397d8;">:body-list-checkbox-todo-end</span> <span style="color: #70c0b1;">""</span>
   <span style="color: #c397d8;">:body-list-checkbox-done</span>     <span style="color: #70c0b1;">"[X] "</span>
   <span style="color: #c397d8;">:body-list-checkbox-done-end</span> <span style="color: #70c0b1;">""</span>
   <span style="color: #c397d8;">:body-line-format</span>    <span style="color: #70c0b1;">"%s"</span>
   body-line-wrap       85
   <span style="color: #c397d8;">:body-text-prefix</span>    <span style="color: #70c0b1;">""</span>
   <span style="color: #c397d8;">:body-text-suffix</span>    <span style="color: #70c0b1;">""</span>
   ))
</pre>


</div>
</div>

</div>

<div id="outline-container-3-9" class="outline-3">
<h3 id="sec-3-9">The Tower of Babel</h3>
<div class="outline-text-3" id="text-3-9">


<p>
   The trick to literate programming is in the <a href="http://orgmode.org/worg/org-contrib/babel/intro.html">Babel project</a>, which
   allows org-mode to not only interpret source code blocks, but
   evaluate them and tangle them out to a file.
</p>



<pre class="src src-elisp">(org-babel-do-load-languages
 'org-babel-load-languages
 '((sh         . t)
   (js         . t)
   (emacs-lisp . t)
   (scala      . t)
   (clojure    . t)
   (dot        . t)
   (css        . t)
   (plantuml   . t)))
</pre>


<p>
   It seems to automatically recognize the language used in a source
   block, but if not, call <code>org-babel-lob-ingest</code> to add all the
   languages from the code block into the list that Babel supports.
   Keystroke: <code>C-c C-v i</code>.
</p>

</div>

<div id="outline-container-3-9-1" class="outline-4">
<h4 id="sec-3-9-1">Font Coloring in Code Blocks</h4>
<div class="outline-text-4" id="text-3-9-1">


<p>    
    Normally, fontifying the individual code blocks makes it
    impossible to work with, so instead of turning it on at the global
    level for all blocks, I created a couple of keystrokes to
    selectively colorize one block at a time.
</p>



<pre class="src src-elisp"><span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">(setq org-src-fontify-natively t)</span>

(global-set-key (kbd <span style="color: #70c0b1;">"&lt;f9&gt; g"</span>) 'org-src-fontify-buffer)
(global-set-key (kbd <span style="color: #70c0b1;">"&lt;f9&gt; f"</span>) 'org-src-fontify-block)
</pre>

</div>
</div>
</div>

</div>

<div id="outline-container-4" class="outline-2">
<h2 id="sec-4">Programming Languages</h2>
<div class="outline-text-2" id="text-4">


</div>

<div id="outline-container-4-1" class="outline-3">
<h3 id="sec-4-1">Clojure</h3>
<div class="outline-text-3" id="text-4-1">


<p>
   Me like Clojure, and since it is a LISP, then Emacs likes it too.
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">require</span> '<span style="color: #e78c45;">clojure-mode</span>)
</pre>


<p>
   With the <code>elein</code> project installed, it allows us to do things
   like: <code>M-x elein-run-cmd koan run</code>
</p>
<p>
   The following makes <a href="https://github.com/weavejester/compojure/wiki">Compojure</a> macro calls look better:
</p>



<pre class="src src-elisp">(define-clojure-indent
  (defroutes 'defun)
  (GET 2)
  (POST 2)
  (PUT 2)
  (DELETE 2)
  (HEAD 2)
  (ANY 2)
  (context 2))
</pre>


<p>
   Really want to try out my new <a href="file:///Users/howard/Dropbox/Clojure/clojuredocs-emacs/org/clojuredocs.html">ClojureDocs functions</a>:
</p>



<pre class="src src-elisp">(load-library <span style="color: #70c0b1;">"clojuredocs"</span>)
</pre>



</div>

<div id="outline-container-4-1-1" class="outline-4">
<h4 id="sec-4-1-1">Paredit</h4>
<div class="outline-text-4" id="text-4-1-1">


<p>
    One of the cooler features of Emacs is the <a href="http://emacswiki.org/emacs/ParEdit">ParEdit mode</a> which
    keeps all parenthesis balanced in Lisp-oriented languages.
    See this <a href="http://www.emacswiki.org/emacs/PareditCheatsheet">cheatsheet</a>.
</p>



<pre class="src src-elisp">(autoload 'paredit-mode <span style="color: #70c0b1;">"paredit"</span>
  <span style="color: #c397d8;">"Minor mode for pseudo-structurally editing Lisp code."</span> t)
</pre>


<p>
    We need to associate specific language modes with ParEdit.
    We first create a helper function:
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">defun</span> <span style="color: #7aa6da;">turn-on-paredit</span> () (paredit-mode 1))
</pre>


<p>
    Then associate the following Lisp-based modes with ParEdit:
</p>



<pre class="src src-elisp">(add-hook 'emacs-lisp-mode-hook       'turn-on-paredit)
(add-hook 'lisp-mode-hook             'turn-on-paredit)
(add-hook 'lisp-interaction-mode-hook 'turn-on-paredit)
(add-hook 'scheme-mode-hook           'turn-on-paredit)
(add-hook 'clojure-mode-hook          'turn-on-paredit)
</pre>


<p>
    Without the helpful functions, we would have to do something like:
</p>



<pre class="src src-elisp">(add-hook 'clojure-mode-hook          (<span style="color: #b9ca4a;">lambda</span> () (paredit-mode +1)))
</pre>


</div>
</div>

</div>

<div id="outline-container-4-2" class="outline-3">
<h3 id="sec-4-2">Scala</h3>
<div class="outline-text-3" id="text-4-2">


<p>
   We need to load the <a href="https://github.com/haxney/scala-mode">scala mode</a>.
   We follow <a href="http://www.scala-lang.org/node/354">these instructions</a> to hook it up with <a href="http://code.google.com/p/yasnippet/">Yasnippet</a>.
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">require</span> '<span style="color: #e78c45;">scala-mode</span>)

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">Shouldn't this be done by default?</span>
(add-to-list 'auto-mode-alist '(<span style="color: #70c0b1;">"\\.scala$"</span> . scala-mode))

(add-hook 'scala-mode-hook
          '(<span style="color: #b9ca4a;">lambda</span> ()
             (yas/minor-mode-on)
             (scala-mode-feature-electric-mode)))
</pre>


<p>
   We follow <a href="http://jawher.net/2011/01/17/scala-development-environment-emacs-sbt-ensime/">these instructions</a> to set it up with <a href="https://github.com/aemoncannon/ensime">Ensime</a>.
   Ensime is not available as a package, so I had to download and
   install it, so we need to add it to the <code>load-path</code>.
</p>



<pre class="src src-elisp">(add-to-list 'load-path <span style="color: #70c0b1;">"~/.emacs.d/ensime/elisp"</span>)
(<span style="color: #b9ca4a;">require</span> '<span style="color: #e78c45;">ensime</span>)
(add-hook 'scala-mode-hook 'ensime-scala-mode-hook)
</pre>


</div>

</div>

<div id="outline-container-4-3" class="outline-3">
<h3 id="sec-4-3">JavaScript</h3>
<div class="outline-text-3" id="text-4-3">


<p>
   JavaScript should have three parts:
</p><ul>
<li>Syntax highlight (already included)
</li>
<li>Syntax verification (with flymake-jshint)
</li>
<li>Interactive REPL
</li>
</ul>


<p>
   Why yes, it seems that the JavaScript mode has a special
   indentation setting. Go below?
</p>



<pre class="src src-elisp">(setq js-basic-indent 2)

(setq js2-basic-offset 2)
(setq js2-cleanup-whitespace t)
(setq js2-enter-indents-newline t)
(setq js2-global-externs <span style="color: #70c0b1;">"jQuery $"</span>)
(setq js2-indent-on-enter-key t)
(setq js2-mode-indent-ignore-first-tab t)

(autoload 'js2-mode <span style="color: #70c0b1;">"js2-mode"</span> nil t)
(add-to-list 'auto-mode-alist '(<span style="color: #70c0b1;">"\\.js$"</span> . js2-mode))
</pre>


<p>
   Change the word "function" to just an "f":
</p>



<pre class="src src-elisp">(font-lock-add-keywords
 'js2-mode `((<span style="color: #70c0b1;">"</span><span style="color: #e7c547; font-weight: bold;">\\</span><span style="color: #c397d8; font-weight: bold;">(</span><span style="color: #70c0b1;">function *</span><span style="color: #e7c547; font-weight: bold;">\\</span><span style="color: #c397d8; font-weight: bold;">)</span><span style="color: #70c0b1;">("</span>
             (0 (<span style="color: #b9ca4a;">progn</span> (compose-region (match-beginning 1) (match-end 1) <span style="color: #70c0b1;">"&#198;&#146;"</span>)
                       nil)))))
</pre>


<p>
   Place warning font around TODO and others:
</p>



<pre class="src src-elisp">(font-lock-add-keywords 'js2-mode
                        '((<span style="color: #70c0b1;">"\\&lt;</span><span style="color: #e7c547; font-weight: bold;">\\</span><span style="color: #c397d8; font-weight: bold;">(</span><span style="color: #70c0b1;">FIX</span><span style="color: #e7c547; font-weight: bold;">\\</span><span style="color: #c397d8; font-weight: bold;">|</span><span style="color: #70c0b1;">TODO</span><span style="color: #e7c547; font-weight: bold;">\\</span><span style="color: #c397d8; font-weight: bold;">|</span><span style="color: #70c0b1;">FIXME</span><span style="color: #e7c547; font-weight: bold;">\\</span><span style="color: #c397d8; font-weight: bold;">|</span><span style="color: #70c0b1;">HACK</span><span style="color: #e7c547; font-weight: bold;">\\</span><span style="color: #c397d8; font-weight: bold;">|</span><span style="color: #70c0b1;">REFACTOR</span><span style="color: #e7c547; font-weight: bold;">\\</span><span style="color: #c397d8; font-weight: bold;">)</span><span style="color: #70c0b1;">:"</span>
                           1 font-lock-warning-face t)))
</pre>



</div>

<div id="outline-container-4-3-1" class="outline-4">
<h4 id="sec-4-3-1">FlyMake and JSHint</h4>
<div class="outline-text-4" id="text-4-3-1">


<p>
   While editing JavaScript is baked into Emacs, it is kinda cool to
   have it give you red sections based on <a href="http://www.jshint.com/">jshint</a>.
   This is done with <a href="http://www.emacswiki.org/emacs/FlymakeJavaScript">FlyMake</a>.
</p>



<pre class="src src-elisp"><span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">Make sure that PATH can reference the 'jshint' executable:</span>
(setenv <span style="color: #70c0b1;">"PATH"</span> (concat <span style="color: #70c0b1;">"/usr/local/bin:/opt/local/bin:"</span> (getenv <span style="color: #70c0b1;">"PATH"</span>)))
(setq exec-path '( <span style="color: #70c0b1;">"/usr/local/bin"</span> <span style="color: #70c0b1;">"/usr/bin"</span> <span style="color: #70c0b1;">"/opt/local/bin"</span> <span style="color: #70c0b1;">"/bin"</span>
                   (concat (getenv <span style="color: #70c0b1;">"HOME"</span>) <span style="color: #70c0b1;">"/bin"</span>)))

(<span style="color: #b9ca4a;">require</span> '<span style="color: #e78c45;">flymake-jshint</span>)
(add-hook 'js-mode-hook
          (<span style="color: #b9ca4a;">lambda</span> () (flymake-mode 1)))
</pre>


<p>
   Now load and edit a JavaScript file, like <a href="file:///Users/howard/jshint-code-test.js">jshint-code-test.js</a>.
</p>
</div>

</div>

<div id="outline-container-4-3-2" class="outline-4">
<h4 id="sec-4-3-2">JavaScript REPL</h4>
<div class="outline-text-4" id="text-4-3-2">


<p>
    We can use two different approaches for a JavaScript REPL.
    <b>Note:</b> Neither are working very effectively.
</p>
<ul>
<li id="sec-4-3-2-1">Client JS with MozRepl<br/>

<p>
     Assuming you have Mozilla Firefox running with the <a href="https://addons.mozilla.org/en-US/firefox/addon/mozrepl/">MozRepl</a>
     add-on and you've installed a <code>moz</code> executable:
</p>



<pre class="src src-elisp">(autoload 'moz-minor-mode <span style="color: #70c0b1;">"moz"</span> <span style="color: #c397d8;">"Mozilla Minor and Inferior Mozilla Modes"</span> t)

(add-hook 'js-mode-hook 'javascript-custom-setup)
(<span style="color: #b9ca4a;">defun</span> <span style="color: #7aa6da;">javascript-custom-setup</span> ()
  (moz-minor-mode 1))
</pre>


<p>
     This gives you the following commands:
</p>
<ul>
<li>C-c C-s: open a MozRepl interaction buffer and switch to it
</li>
<li>C-c C-l: save the current buffer and load it in MozRepl
</li>
<li>C-M-x: send the current function (as recognized by c-mark-function) to MozRepl
</li>
<li>C-c C-c: send the current function to MozRepl and switch to the interaction buffer
</li>
<li>C-c C-r: send the current region to MozRepl
</li>
</ul>


</li>
</ul>
<ul>
<li id="sec-4-3-2-2">Server JS with Node.js<br/>

<p>
    We use <a href="http://js-comint-el.sourceforge.net">js-comint</a>, but hook it up with node.js:
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">require</span> '<span style="color: #e78c45;">js-comint</span>)
(setenv <span style="color: #70c0b1;">"NODE_NO_READLINE"</span> <span style="color: #70c0b1;">"1"</span>)   <span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">Turn off fancy node prompt</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">Use node as our repl</span>
(setq inferior-js-program-command <span style="color: #70c0b1;">"node"</span>)
</pre>


<p>
    According to <a href="http://nodejs.org/api/all.html#all_repl">these instructions</a>, we set the <code>NODE_NO_READLINE</code>
    variable.
</p>
<p>
    Need some prompt configuration for the REPL:
</p>



<pre class="src src-elisp">(setq inferior-js-mode-hook
      (<span style="color: #b9ca4a;">lambda</span> ()
        <span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">We like nice colors</span>
        (ansi-color-for-comint-mode-on)
        <span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">Deal with some prompt nonsense</span>
        (add-to-list
         'comint-preoutput-filter-functions
         (<span style="color: #b9ca4a;">lambda</span> (output)
           (replace-regexp-in-string <span style="color: #70c0b1;">"\033\\[[0-9]+[GK]"</span> <span style="color: #70c0b1;">""</span> output)
           (replace-regexp-in-string <span style="color: #70c0b1;">".*1G.*3G"</span> <span style="color: #70c0b1;">"&amp;GT;"</span> output)
           (replace-regexp-in-string <span style="color: #70c0b1;">"&amp;GT;"</span> <span style="color: #70c0b1;">"&gt; "</span> output)
))))
</pre>


<p>
    Now, we can start up a JavaScript node REPL: <code>run-js</code>
</p>
<p>
    Let's test this out by loading this into a separate buffer (<code>C-c '=)     and then doing a =M-x send-buffer-and-go</code>.
</p>
<p>
    Set up some helpful keyboard instructions:
</p>



<pre class="src src-elisp">(add-hook 'js2-mode-hook
        (<span style="color: #b9ca4a;">lambda</span> () 
          (local-set-key (kbd <span style="color: #70c0b1;">"C-x C-e"</span>) #'js-send-buffer-and-go)
          (local-set-key (kbd <span style="color: #70c0b1;">"C-x r"</span>)   #'run-js)))
</pre>


<p>
    Wanna try it all out?
</p>



<pre class="src src-js2"><span style="color: #b9ca4a;">function</span> <span style="color: #7aa6da;">factorial</span>(<span style="color: #2e8b57;">n</span>) { 
  <span style="color: #b9ca4a;">return</span> n == 0 ? 1 : n * factorial(n - 1);
}
factorial(16);
</pre>


</li>
</ul>
</div>
</div>

</div>

<div id="outline-container-4-4" class="outline-3">
<h3 id="sec-4-4">Java</h3>
<div class="outline-text-3" id="text-4-4">


</div>

<div id="outline-container-4-4-1" class="outline-4">
<h4 id="sec-4-4-1">JSP</h4>
<div class="outline-text-4" id="text-4-4-1">


<p>
    Dealing with <a href="http://www.emacswiki.org/emacs/JspMode">JSP files</a> is bad. But we'll try the <a href="http://www.crossleys.org/~jim/work/jsp.el">jsp-mode</a> first:
</p>



<pre class="src src-elisp"><span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">(autoload 'jsp-mode "jsp" "JSP" t)</span>

<span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">Tell emacs to use jsp-mode for .jsp files</span>
(add-to-list 'auto-mode-alist '(<span style="color: #70c0b1;">"\\.jsp\\'"</span> . html-mode))
</pre>


</div>
</div>
</div>

</div>

<div id="outline-container-5" class="outline-2">
<h2 id="sec-5">Tools</h2>
<div class="outline-text-2" id="text-5">


</div>

<div id="outline-container-5-1" class="outline-3">
<h3 id="sec-5-1">Git</h3>
<div class="outline-text-3" id="text-5-1">


<p>
   Git is <a href="http://emacswiki.org/emacs/Git">already part of Emacs</a>. However, <a href="http://philjackson.github.com/magit/magit.html">Magit</a> is sweet.
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">require</span> '<span style="color: #e78c45;">magit</span>)
(define-key global-map <span style="color: #70c0b1;">"\M-\C-g"</span> 'magit-status)
</pre>


</div>

</div>

<div id="outline-container-5-2" class="outline-3">
<h3 id="sec-5-2">Auto Complete</h3>
<div class="outline-text-3" id="text-5-2">


<p>
   This feature scans the code and suggests completions for what you
   are typing. Useful at times &hellip; annoying at others.
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">require</span> '<span style="color: #e78c45;">auto-complete-config</span>)
(add-to-list 'ac-dictionary-directories <span style="color: #70c0b1;">"~/.emacs.d/ac-dict"</span>)
(ac-config-default)
</pre>


<p>
   Note that we specify where a dictionary lives for each specific
   language.
</p>
</div>

</div>

<div id="outline-container-5-3" class="outline-3">
<h3 id="sec-5-3">Yas Snippet</h3>
<div class="outline-text-3" id="text-5-3">


<p>
   The <a href="http://code.google.com/p/yasnippet/">yasnippet project</a> allows me to create snippets of code that
   can be brought into a file, based on the language. 
</p>



<pre class="src src-elisp">(add-to-list 'load-path <span style="color: #70c0b1;">"~/.emacs.d/yasnippet"</span>)
(<span style="color: #b9ca4a;">require</span> '<span style="color: #e78c45;">yasnippet</span>)
(yas/global-mode 1)
<span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">(yas/initialize)</span>
</pre>


<p>
   We just have different directories for each:
</p>



<pre class="src src-elisp">(setq yas/snippet-dirs
      '(<span style="color: #70c0b1;">"~/.emacs.d/snippets"</span>            <span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">personal snippets</span>
        <span style="color: #70c0b1;">"~/.emacs.d/yasnippet/extras/imported"</span>
        <span style="color: #70c0b1;">"~/Dropbox/emacs.d/snippets/javascript-mode"</span>
        <span style="color: #70c0b1;">"~/Dropbox/emacs.d/snippets/clojure-mode"</span>
        <span style="color: #70c0b1;">"~/Dropbox/emacs.d/snippets/org-mode"</span>
        <span style="color: #70c0b1;">"~/Dropbox/emacs.d/snippets/emacs-list-mode"</span>
        <span style="color: #70c0b1;">"~/.emacs.d/scala-emacs/contrib/yasnippet/snippets"</span>))

<span style="color: #969896; font-style: italic;">; </span><span style="color: #969896; font-style: italic;">(mapc 'yas/load-directory yas-snippet-dirs)</span>
</pre>


</div>

</div>

<div id="outline-container-5-4" class="outline-3">
<h3 id="sec-5-4">Markdown</h3>
<div class="outline-text-3" id="text-5-4">


<p>
   Don't use Markdown nearly as much as I used to, but I'm surprised
   that the following extension-associations aren't the default:
</p>



<pre class="src src-elisp">(autoload 'markdown-mode <span style="color: #70c0b1;">"markdown-mode.el"</span>
   <span style="color: #c397d8;">"Major mode for editing Markdown files"</span> t)
(add-to-list 'auto-mode-alist '(<span style="color: #70c0b1;">"\\.md\\'"</span> . markdown-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #70c0b1;">"\\.markdown\\'"</span> . markdown-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #70c0b1;">"\\.txt\\'"</span> . markdown-mode))
</pre>


</div>

</div>

<div id="outline-container-5-5" class="outline-3">
<h3 id="sec-5-5">Note Grep</h3>
<div class="outline-text-3" id="text-5-5">


<p>
   I use the standard <a href="http://emacswiki.org/emacs/GrepMode#toc1">grep package</a> in Emacs and wrap it so that I
   can easily search through my notes.
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">defun</span> <span style="color: #7aa6da;">ngrep</span> (reg-exp)
  <span style="color: #c397d8;">"Searches the Notes and ORG directory tree for an expression."</span>
  (interactive <span style="color: #70c0b1;">"sSearch note directory for: "</span>)
  (<span style="color: #b9ca4a;">let</span> ((file-ext <span style="color: #70c0b1;">"*.org *.md *.txt *.markdown"</span>)
        (search-dir <span style="color: #70c0b1;">"~/Dropbox/org"</span>))
    (message <span style="color: #70c0b1;">"Searching in %s"</span> search-dir)
    (grep-compute-defaults)
    (rgrep reg-exp file-ext search-dir)))

(define-key global-map <span style="color: #70c0b1;">"\C-x\C-n"</span> 'ngrep)
(define-key global-map <span style="color: #70c0b1;">"\C-x\C-r"</span> 'rgrep)
</pre>


<p>
   Don't forget that after doing a <code>C-x C-f</code> to find a file, you can
   hit another <code>M-f</code> to do a find the given directory (and subs).
</p>
<p>
   Also, you can do a full locate with <code>C-x C-l</code>:
</p>



<pre class="src src-elisp">(define-key global-map <span style="color: #70c0b1;">"\C-x\C-l"</span> 'locate)
(setq locate-command <span style="color: #70c0b1;">"mdfind"</span>)  <span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">Use Mac OS X's Spotlight</span>
</pre>


</div>

</div>

<div id="outline-container-5-6" class="outline-3">
<h3 id="sec-5-6">Spell Checking</h3>
<div class="outline-text-3" id="text-5-6">



<p>
   I like spell checking with <a href="http://www.emacswiki.org/emacs/FlySpell">FlySpell</a>, which uses <code>ispell</code>.
</p>
<p>
   To build a dictionary hash (seems important now), do this:
</p>



<pre class="src src-sh">buildhash ~/Dropbox/dictionary-personal.txt /opt/local/lib/english.aff ~/Dropbox/dictionary-personal.txt.hash
</pre>


<p>
   Then, we can use it like:
</p>



<pre class="src src-elisp">(setq ispell-personal-dictionary 
    (concat (getenv <span style="color: #70c0b1;">"HOME"</span>) <span style="color: #70c0b1;">"/Dropbox/dictionary-personal.txt"</span>))

(<span style="color: #b9ca4a;">dolist</span> (hook '(text-mode-hook))
  (add-hook hook (<span style="color: #b9ca4a;">lambda</span> () (flyspell-mode 1))))
</pre>


<p>
   If I find any <code>text-mode</code> derived mode that I don't want to
   spell-check, then I need to use the following:
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">dolist</span> (hook '(change-log-mode-hook log-edit-mode-hook org-agenda-mode-hook))
  (add-hook hook (<span style="color: #b9ca4a;">lambda</span> () (flyspell-mode -1))))
</pre>


</div>

</div>

<div id="outline-container-5-7" class="outline-3">
<h3 id="sec-5-7">Closing Windows</h3>
<div class="outline-text-3" id="text-5-7">


<p>
   I would like Command-W to close a frame, but only if it only has a
   single window in it. I found this code on <a href="http://www.emacswiki.org/emacs/frame-cmds.el">this site</a>.\
</p>



<pre class="src src-elisp">(<span style="color: #b9ca4a;">defun</span> <span style="color: #7aa6da;">delete-single-window</span> (<span style="color: #e78c45;">&amp;optional</span> window)
  <span style="color: #c397d8;">"Remove WINDOW from the display.  Default is `</span><span style="color: #e78c45;">selected-window</span><span style="color: #c397d8;">'.</span>
<span style="color: #c397d8;">If WINDOW is the only one in its frame, then `</span><span style="color: #e78c45;">delete-frame</span><span style="color: #c397d8;">' too."</span>
  (interactive)
  (<span style="color: #b9ca4a;">save-current-buffer</span>
    (setq window (or window (selected-window)))
    (select-window window)
    (kill-buffer)
    (<span style="color: #b9ca4a;">if</span> (one-window-p t) 
        (delete-frame) 
        (delete-window (selected-window)))))

(define-key mac-key-mode-map [(alt w)] 'delete-single-window)
</pre>


</div>

</div>

<div id="outline-container-5-8" class="outline-3">
<h3 id="sec-5-8">Mail with Gnus</h3>
<div class="outline-text-3" id="text-5-8">


<p>
   I would like to hook up my <a href="http://www.emacswiki.org/emacs/GnusGmail">Gmail with GNUS mail reader</a>.
   See these <a href="http://www.mostlymaths.net/2010/12/emacs-30-day-challenge-using-gnus-to.html">detailed instructions</a> if we run into problems.
   The instructions are contained in <a href="gnus.html">gnus.org</a> file.
</p>



<pre class="src src-elisp">(load-library <span style="color: #70c0b1;">"gnus-config"</span>)
</pre>


</div>

</div>

<div id="outline-container-5-9" class="outline-3">
<h3 id="sec-5-9">Reading Mail?</h3>
<div class="outline-text-3" id="text-5-9">


<p>
   Well, Gnus is pretty gunky. It works, but &hellip;
</p>



<pre class="src src-elisp">(autoload 'vm <span style="color: #70c0b1;">"~/vm"</span> <span style="color: #c397d8;">"Start VM on your primary inbox."</span> t)
(autoload 'vm-visit-folder <span style="color: #70c0b1;">"~/vm"</span> <span style="color: #c397d8;">"Start VM on an arbitrary folder."</span> t)
(autoload 'vm-mail <span style="color: #70c0b1;">"~/vm"</span> <span style="color: #c397d8;">"Send a mail message using VM."</span> t)
(autoload 'vm-submit-bug-report <span style="color: #70c0b1;">"~/vm"</span> <span style="color: #c397d8;">"Send a bug report about VM."</span> t)
</pre>

</div>
</div>

</div>

<div id="outline-container-6" class="outline-2">
<h2 id="sec-6">Technical Artifacts</h2>
<div class="outline-text-2" id="text-6">


<p>
  Before you can build this on a new system, make sure that you put
  the cursor over any of these properties, and hit: <code>C-c C-c</code>
</p>
</div>
</div>
</div>

</body>
</html>
